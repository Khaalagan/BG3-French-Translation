new entry "PactOfTheChain"
type "PassiveData"
data "DisplayName" "ha717549cge179g4663gbd08g31e962705e92;2"
data "Description" "hdf0288dcgd48fg4231g9c35gc47abe552d4f;2"
data "Icon" "Action_Warlock_PactOfTheChain_Imp"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Target_FindFamiliar_Ritual_IE);UnlockSpell(Target_PactOfTheChain_Imp_IE);UnlockSpell(Target_PactOfTheChain_Quasit_IE);UnlockSpell(Target_PactOfTheChain_Gazer_IE)"

new entry "Target_PactOfTheChain_Imp_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_PactOfTheChain_Imp"
data "SpellContainerID" "Target_FindFamiliar_Ritual_IE"
data "SpellProperties" "GROUND:IF(IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(fa0c60cd-2f80-4c36-9e4a-161a1b70e0a5, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(not IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(fa0c60cd-2f80-4c36-9e4a-161a1b70e0a5, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(308da8fd-fb8e-4078-8991-a8ee678b49da, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(not IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(308da8fd-fb8e-4078-8991-a8ee678b49da, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,SHADOWCURSE_SUMMON_CHECK)"

new entry "Target_PactOfTheChain_Quasit_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_PactOfTheChain_Quasit"
data "SpellContainerID" "Target_FindFamiliar_Ritual_IE"
data "SpellProperties" "GROUND:IF(IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(379fee96-4a4a-4868-9e06-03e5b560bc5c, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK,FLY_IOTCM);GROUND:IF(not IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(379fee96-4a4a-4868-9e06-03e5b560bc5c, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,SHADOWCURSE_SUMMON_CHECK,FLY_IOTCM);GROUND:IF(IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(03f340c1-a26e-427e-968a-94c795015965, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(not IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(03f340c1-a26e-427e-968a-94c795015965, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,SHADOWCURSE_SUMMON_CHECK)"

new entry "Target_FindFamiliar_Ritual_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_FindFamiliar_Ritual"
data "ContainerSpells" "Target_FindFamiliar_Cat_Ritual_IE;Target_FindFamiliar_Crab_Ritual_IE;Target_FindFamiliar_Frog_Ritual_IE;Target_FindFamiliar_Rat_Ritual_IE;Target_FindFamiliar_Raven_Ritual_IE;Target_FindFamiliar_Spider_Ritual_IE"

new entry "Target_FindFamiliar_Cat_Ritual_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_FindFamiliar_Cat_Ritual"
data "SpellContainerID" "Target_FindFamiliar_Ritual_IE"
data "SpellProperties" "GROUND:IF(IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(be212ed5-a622-4560-96be-0ee27ea1f913, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK,FLY_IOTCM);GROUND:IF(not IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(be212ed5-a622-4560-96be-0ee27ea1f913, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,SHADOWCURSE_SUMMON_CHECK,FLY_IOTCM);GROUND:IF(IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(be212ed5-a622-4560-96be-0ee27ea1f913, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(not IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(be212ed5-a622-4560-96be-0ee27ea1f913, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,SHADOWCURSE_SUMMON_CHECK)"

new entry "Target_FindFamiliar_Crab_Ritual_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_FindFamiliar_Crab_Ritual"
data "SpellContainerID" "Target_FindFamiliar_Ritual_IE"
data "SpellProperties" "GROUND:IF(IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(48cda2b7-04bc-40c2-81f5-1dddabcd15ab, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK,FLY_IOTCM);GROUND:IF(not IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(48cda2b7-04bc-40c2-81f5-1dddabcd15ab, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,SHADOWCURSE_SUMMON_CHECK,FLY_IOTCM);GROUND:IF(IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(48cda2b7-04bc-40c2-81f5-1dddabcd15ab, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(not IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(48cda2b7-04bc-40c2-81f5-1dddabcd15ab, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,SHADOWCURSE_SUMMON_CHECK)"

new entry "Target_FindFamiliar_Frog_Ritual_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_FindFamiliar_Frog_Ritual"
data "SpellContainerID" "Target_FindFamiliar_Ritual_IE"
4521a4d1-0940-41de-b4c2-0314b8c8f32d
data "SpellProperties" "GROUND:IF(IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(9d62fa56-b3b3-42a3-900a-378513382ffa, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK,FLY_IOTCM);GROUND:IF(not IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(9d62fa56-b3b3-42a3-900a-378513382ffa, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,SHADOWCURSE_SUMMON_CHECK,FLY_IOTCM);GROUND:IF(IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(4521a4d1-0940-41de-b4c2-0314b8c8f32d, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(not IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(4521a4d1-0940-41de-b4c2-0314b8c8f32d, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,SHADOWCURSE_SUMMON_CHECK)"

new entry "Target_FindFamiliar_Rat_Ritual_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_FindFamiliar_Rat_Ritual"
data "SpellContainerID" "Target_FindFamiliar_Ritual_IE"
data "SpellProperties" "GROUND:IF(IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(d779b7f9-2c7b-4f85-b914-f09e00c117f2, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK,FLY_IOTCM);GROUND:IF(not IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(d779b7f9-2c7b-4f85-b914-f09e00c117f2, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,SHADOWCURSE_SUMMON_CHECK,FLY_IOTCM);GROUND:IF(IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(d779b7f9-2c7b-4f85-b914-f09e00c117f2, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(not IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(d779b7f9-2c7b-4f85-b914-f09e00c117f2, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,SHADOWCURSE_SUMMON_CHECK)"

new entry "Target_FindFamiliar_Raven_Ritual_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_FindFamiliar_Raven_Ritual"
data "SpellContainerID" "Target_FindFamiliar_Ritual_IE"
data "SpellProperties" "GROUND:IF(IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(ecdffa46-80bd-41d2-8a50-4460a2810672, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(not IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(ecdffa46-80bd-41d2-8a50-4460a2810672, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(ecdffa46-80bd-41d2-8a50-4460a2810672, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(not IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(ecdffa46-80bd-41d2-8a50-4460a2810672, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,SHADOWCURSE_SUMMON_CHECK)"

new entry "Target_FindFamiliar_Spider_Ritual_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_FindFamiliar_Spider_Ritual"
data "SpellContainerID" "Target_FindFamiliar_Ritual_IE"
739b8af1-643d-4cc9-b5bd-3628cd3acc40
data "SpellProperties" "GROUND:IF(IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(83cc882e-23c6-410c-b94e-30e00c4bf442, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK,FLY_IOTCM);GROUND:IF(not IsImprovedPactOfTheChain() and HasPassive('IotCM', context.Source)):Summon(83cc882e-23c6-410c-b94e-30e00c4bf442, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,IOTCM_STATUS,SHADOWCURSE_SUMMON_CHECK,FLY_IOTCM);GROUND:IF(IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(739b8af1-643d-4cc9-b5bd-3628cd3acc40, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(not IsImprovedPactOfTheChain() and not HasPassive('IotCM',context.Source)):Summon(739b8af1-643d-4cc9-b5bd-3628cd3acc40, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,FAMILIAR_GOTELO_STATUS,SHADOWCURSE_SUMMON_CHECK)"



new entry "Target_Sting_Imp_Summon_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_Sting_Imp"
data "SpellSuccess" "TARGET:IF(not SavingThrow(Ability.Constitution,  CalculateSpellDC(Ability.Charisma, GetSummoner(context.Source)))):DealDamage(1d6,Poison);DealDamage(max(1,1d4+UnarmedMeleeAbilityModifier), Piercing)"
data "SpellFlags" "IsEnemySpell"
data "SpellAnimationIntentType" "Aggressive"

new entry "Target_Scare_Quasit_Summon_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_Scare_Quasit"
data "SpellRoll" "not SavingThrow(Ability.Wisdom,  CalculateSpellDC(Ability.Charisma, GetSummoner(context.Source)), AdvantageOnFrightened(), DisadvantageOnFrightened())"
data "Cooldown" "OncePerShortRest"
data "UseCosts" "ActionPoint:1"
data "SpellAnimationIntentType" "Aggressive"
data "PrepareEffect" "64bea8d0-40a2-440f-a0d4-dc78373e39f1"
data "CastEffect" "6448575a-13ec-476a-897d-82a248a883f2"
data "TargetEffect" "02ad4520-f81d-4006-8094-496d27e4fda7"

new entry "Target_Bufotoxin_Frog_Summon_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_Bufotoxin_Frog_Summon"
data "SpellRoll" "not SavingThrow(Ability.Constitution, CalculateSpellDC(Ability.Charisma, GetSummoner(context.Source)))"

new entry "Target_Bite_TinySpider_Familiar_IE"
type "SpellData"
data "SpellType" "Target"
using "Target_Bite_TinySpider_Familiar"
data "SpellSuccess" "DealDamage(1, Piercing);TARGET:IF(not SavingThrow(Ability.Constitution,CalculateSpellDC(Ability.Charisma, GetSummoner(context.Source)))):DealDamage(1d4, Poison);"
